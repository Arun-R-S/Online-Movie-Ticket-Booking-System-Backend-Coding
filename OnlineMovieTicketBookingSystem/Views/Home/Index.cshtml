
<!DOCTYPE html>
<html>

<head>
    <title>MoviesYet - @ViewBag.Title</title>
    <link rel="icon" href="~/images/favicon.png">

    @Styles.Render("~/Style/mainpage")

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
            crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Two+Tone" rel="stylesheet">
    <meta charset="utf-8">
    <script src="https://cdn.lordicon.com//libs/frhvbuzj/lord-icon-2.0.2.js"></script>
    <script type="module" src=@("https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js")></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/Scripts/jquery.unobtrusive-ajax.js")
    <meta name="theme-color" content="#1a237e">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body id="main-body" class="gilmer-font bg-light">
    <script>
        function myFunc() {

            $(".img-skeleton").addClass("hidden");
            $(".text-skeleton").addClass("hidden");
            $(".images-load").removeClass("hidden");
            $(".card-body").removeClass("hidden");
        }
        window.onload = function () {
            
            setTimeout(myFunc, 500);
        }
    </script>
    <style>
        .hidden {
            display: none;
        }

        .img-skeleton {
            
        }

        .text-skeleton {
           
        }
    </style>
    <!--Header Start-->
    <header class="navbar p-t-15 p-b-15 shadow-bottom fixed-top navbar-expand-md navbar-dark bd-navbar bg-purple" id="headers">
        <nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation">
            <a class=" navbar-brand me-2 f-w-600" id="page-title" href="/" aria-label="Bootstrap">
                <img src="~/images/favicon.png" class="width-50 "> MoviesYet
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#bdNavbar"
                    aria-controls="bdNavbar" aria-expanded="false" aria-label="Toggle navigation">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" class="bi" fill="currentColor"
                     viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                          d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z">
                    </path>
                </svg>

            </button>
            <div class=" p-l-20 collapse navbar-collapse " id="bdNavbar">
                <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav pt-2 py-md-0">


                    <form class="d-flex m-b-3 m-h-35 ">

                        <input class="form-control me-2" type="search" placeholder="Search Movies" aria-label="Search">
                        <button class="butn btn-success text-light" type="submit">Search</button>
                    </form>
                </ul>
                <ul class=" p-r-10 navbar-nav flex-row flex-wrap ms-md-auto">
                    <div class="dropdown ">

                        <button id="location-button" class="m-h-35 valign btn btn-secondary dropdown-toggle" type="button"
                                id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="f-s-25 valign color-white material-icons-outlined">
                                room
                            </span>Select Your Location
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1" id="location-result">
                        </ul>

                    </div>

                </ul>
                <ul class="p-l-0 navbar-nav">
                    <a href="login.html">
                        <button class="btn btn-danger width-120 height-35" onclick="login.html">
                            <span class="p-r-10 material-icons-outlined">
                                vpn_key
                            </span>
                            <span>Sign in</span>
                        </button>
                    </a>
                </ul>
            </div>

        </nav>
    </header>


    @{
        var top = ViewBag.TopRated;
        var m = ViewBag.Movie;
        var flag = 1;
        var count = 0;
    }
    <!--Header End-->
    <!--Gap-->

    <div class="p-b-140"></div>

    <!--Gap end-->
    <!--Main Content Start-->
    <div class="container">
        <h1 class="color-yellow raleway-bold-font f-s-70">Have you seen this movie yet?</h1>
    </div>

    <div class="container blur m-w-800 p-b-50 m-t-30 text-light">

        <h2 class="flex-div">

            <img class="m-w-50" src="~/images/svg/film_reel.svg" />
            <span class="valign2">
                New Releases

            </span>

        </h2>
        <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                @foreach (var mv in m)
                {
                    if (count == 0)
                    {
                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="@count" class="active"
                                aria-current="true" aria-label="Slide @(count+1)"></button>
                    }
                    else
                    {
                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="@count"
                                aria-label="Slide @(count+1)"></button>
                    }
                    count = count + 1;
                }


            </div>

            <div class="carousel-inner b-r-8">
                @foreach (var movie in m)
                {
                    if (flag == 1)
                    {
                        <div class="carousel-item active mouse" onclick="location.href='/movies/@(movie.MovieId)'">
                            <img src="~/UploadFiles/@(movie.PosterImage)" class="d-block w-100" alt="@movie.MovieName">
                        </div>
                        flag = 2;
                    }
                    else
                    {
                        <div class="carousel-item mouse" onclick="location.href='/movies/@(movie.MovieId)'">
                            <img src="~/UploadFiles/@(movie.PosterImage)" class="d-block w-100" alt="@movie.MovieName">
                        </div>
                    }

                }
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                        data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                        data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>

        </div>
    </div>
    <div class="bg-white m-t-30 p-t-30 p-b-30 text-dark">
        <div class="cardz container col-lg-8">
            <h2 class="text-dark flex-div">
                <img class="width-50" src="https://img.icons8.com/fluent/96/000000/gas.png" />
                <span class="valign">Top Rated Movies</span>
            </h2>



            <div class="row row-cols-1 p-t-20 p-l-10 p-r-10 p-b-40 row-cols-md-3 g-4">

                @{
                    foreach (var t in top)
                    {
                        <div class="col " onclick="location.href='/movies/@(t.MovieId)'">
                            <div class="card card-hov bg-grey h-100">
                                <img src="~/UploadFiles/@(t.PosterImage)" class="card-img-top images-load hidden" alt="@(t.MovieName)">
                                <ion-skeleton-text animated class="height-200 img-skeleton"></ion-skeleton-text>
                                <div class="card-body hidden">
                                    <h5 class="card-title">@(t.MovieName)</h5>
                                    <span class="valign color-yellow material-icons-round">
                                        grade
                                    </span>
                                    IMDB : @(t.Rating)/10
                                </div>
                                <div class="m-l-10 m-t-20 m-b-20 text-skeleton">
                                    <ion-skeleton-text animated style="width: 88%;height:20px;" ></ion-skeleton-text>
                                    <ion-skeleton-text animated style="width: 60%;height:20px;" ></ion-skeleton-text>
                                </div>
                                
                            </div>
                        </div>
                    }
                }
            </div>
        </div>
    </div>
    <div class="container">

    </div>



    <footer class="footer bg-light">
        <!-- Copyrights -->
        <div class=" py-4">
            <div class="container text-center">
                <p class="text-muted mb-0 py-2"> MoviesYet © 2021 All rights reserved.</p>
            </div>
        </div>
    </footer>

</body>
@Scripts.Render("~/Script/mainpage")
@Scripts.Render("~/Scripts/navbar.js")
</html>